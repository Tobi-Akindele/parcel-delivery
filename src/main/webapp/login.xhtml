<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                template="./main_template.xhtml">

    <ui:define name="title">
        Delis: Login
    </ui:define>

    <ui:define name="menu"></ui:define>

    <ui:define name="content">

        <style>
            html,
            body {
                height: 100%;
            }

            body {
                display: flex;
                align-items: center;
                padding-top: 40px;
                padding-bottom: 40px;
                background-color: #f5f5f5;
            }

            .form-signin {
                width: 100%;
                max-width: 350px;
                padding: 15px;
                margin: auto;
            }

            .form-signin .space {
                height: 15px;
            }

            .form-signin .form-floating:focus-within {
                z-index: 2;
            }

            .form-signin #email {
                margin-bottom: -1px;
                border-bottom-right-radius: 0;
                border-bottom-left-radius: 0;
            }

            .form-signin #password {
                margin-bottom: 10px;
                border-top-left-radius: 0;
                border-top-right-radius: 0;
            }

            .bd-placeholder-img {
                font-size: 1.125rem;
                text-anchor: middle;
                -webkit-user-select: none;
                -moz-user-select: none;
                user-select: none;
            }

            @media (min-width: 768px) {
                .bd-placeholder-img-lg {
                    font-size: 3.5rem;
                }
            }
        </style>

        <div class="text-center">
            <main class="form-signin">
                <h:form id="loginForm">

                    <h2 class="mb-4" alt="Site name" width="72" height="57">Delis Parcel Delivery</h2>
                    <h1 class="h5 mb-3 fw-normal">Please sign in</h1>

                    <div class="form-floating">
                        <h:outputLabel id="successSignUpMessage" styleClass="form-control" value="" />
                        <h:message for="successSignUpMessage" styleClass="text-success" />
                    </div>
                    
                    <div class="form-floating">
                        <h:inputText id="email" styleClass="form-control" 
                                     value="#{loginRequest.email}" required="true" requiredMessage="Email is required" />
                        <label for="email">Email address</label>
                    </div>

                    <div class="form-floating">
                        <h:inputSecret id="password" class="form-control" 
                                       value="#{loginRequest.password}" required="true" requiredMessage="Password is required" />
                        <label for="password">Password</label>
                    </div>

                    <div class="space mb-3"></div>

                    <h:commandLink class="w-100 btn btn-primary" type="submit" action="#{loginRequest.requestLogin()}" >Login</h:commandLink>

                    <div class="space mb-3"></div>

                    <div class="form-floating">
                        <h:link outcome="sign_up">
                            Don't have account? Sign up
                        </h:link>
                    </div>
                    
                    <div class="form-floating">
                        <span>or</span>
                    </div>
                    
                    <div class="form-floating">
                        <h:link outcome="driver_signup">
                            Become a Driver
                        </h:link>
                    </div>

                </h:form>
            </main>
        </div>

    </ui:define>

</ui:composition>
